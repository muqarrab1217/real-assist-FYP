================================================================================
                    RAG CHATBOT SYSTEM - DATA FLOW DIAGRAMS
================================================================================

LEVEL 0: CONTEXT DIAGRAM
================================================================================

    ┌─────────┐                    ┌──────────────────────┐
    │         │  Login Credentials │                      │
    │  ADMIN  │───────────────────>│                      │
    │         │                    │                      │
    │         │<───────────────────│  Authentication      │
    │         │  Auth Response    │  Response            │
    │         │                    │                      │
    │         │  Document File    │   RAG CHATBOT        │
    │         │───────────────────>│   SYSTEM             │
    │         │                    │                      │
    │         │<───────────────────│  Upload Confirmation │
    │         │  Upload Status    │                      │
    └─────────┘                    │                      │
                                    │                      │
    ┌─────────┐                    │                      │
    │         │  Chat Query       │                      │
    │  USER   │───────────────────>│                      │
    │         │                    │                      │
    │         │<───────────────────│  Chat Response      │
    │         │  Response         │                      │
    └─────────┘                    └──────────────────────┘


LEVEL 1 DFD
================================================================================

┌─────────┐
│  ADMIN  │
└────┬────┘
     │ Login Credentials
     │
     ▼
┌─────────────────────┐
│ 1.0 Authenticate     │
│     User            │
└─────┬───────────────┘
      │
      │ Read/Write
      │
      ▼
┌─────────────────────┐
│ D1: USER_CREDENTIALS│
└─────────────────────┘

┌─────────┐
│  ADMIN  │
└────┬────┘
     │ Document File
     │ Upload Request
     │
     ▼
┌─────────────────────┐
│ 2.0 Upload Document │
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D2: UPLOADED_       │
│     DOCUMENTS       │
└─────┬───────────────┘
      │
      │ Read
      │
      ▼
┌─────────────────────┐
│ 3.0 Process Document│
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D3: DOCUMENT_       │
│     EMBEDDINGS      │
└─────────────────────┘

┌─────────┐
│  USER   │
└────┬────┘
     │ Chat Query
     │
     ▼
┌─────────────────────┐
│ 4.0 Query Chatbot   │
└─────┬───────────────┘
      │
      │ Read
      │
      ▼
┌─────────────────────┐
│ D3: DOCUMENT_       │
│     EMBEDDINGS      │
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D4: CHAT_HISTORY    │
└─────────────────────┘


LEVEL 2 DFD - Process 2.0: Upload Document
================================================================================

┌─────────┐
│  ADMIN  │
└────┬────┘
     │ Document File
     │
     ▼
┌─────────────────────┐
│ 2.1 Validate         │
│     Document        │
└─────┬───────────────┘
      │ Validated Document
      │
      ▼
┌─────────────────────┐
│ 2.2 Store Document  │
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D2: UPLOADED_       │
│     DOCUMENTS       │
└─────────────────────┘
      │
      │ File Metadata
      │
      ▼
┌─────────────────────┐
│ 2.3 Update Registry │
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D5: FILE_REGISTRY   │
└─────────────────────┘
      │
      │ Process Request
      │
      ▼
┌─────────────────────┐
│ 3.0 Process Document│
└─────────────────────┘


LEVEL 2 DFD - Process 3.0: Process Document
================================================================================

┌─────────────────────┐
│ 2.0 Upload Document │
└─────┬───────────────┘
      │ Process Request
      │
      ▼
┌─────────────────────┐
│ 3.1 Extract Text    │
└─────┬───────────────┘
      │
      │ Read
      │
      ▼
┌─────────────────────┐
│ D2: UPLOADED_       │
│     DOCUMENTS       │
└─────┬───────────────┘
      │
      │ Extracted Text
      │
      ▼
┌─────────────────────┐
│ 3.2 Create Tokens   │
└─────┬───────────────┘
      │ Tokenized Text
      │
      ▼
┌─────────────────────┐
│ 3.3 Generate        │
│     Embeddings      │
└─────┬───────────────┘
      │ Embedding Vectors
      │
      ▼
┌─────────────────────┐
│ 3.4 Store Embeddings│
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D3: DOCUMENT_       │
│     EMBEDDINGS      │
└─────────────────────┘


LEVEL 2 DFD - Process 4.0: Query Chatbot
================================================================================

┌─────────┐
│  USER   │
└────┬────┘
     │ Chat Query
     │
     ▼
┌─────────────────────┐
│ 4.1 Process Query    │
└─────┬───────────────┘
      │ Processed Query
      │ Query Embedding
      │
      ▼
┌─────────────────────┐
│ 4.2 Search Embeddings│
└─────┬───────────────┘
      │
      │ Read
      │
      ▼
┌─────────────────────┐
│ D3: DOCUMENT_       │
│     EMBEDDINGS      │
└─────┬───────────────┘
      │
      │ Relevant Content
      │ Context
      │
      ▼
┌─────────────────────┐
│ 4.3 Generate        │
│     Response        │
└─────┬───────────────┘
      │ Generated Answer
      │
      ▼
┌─────────────────────┐
│ 4.4 Return Response │
└─────┬───────────────┘
      │
      │ Write
      │
      ▼
┌─────────────────────┐
│ D4: CHAT_HISTORY    │
└─────┬───────────────┘
      │
      │ Chat Response
      │
      ▼
┌─────────┐
│  USER   │
└─────────┘

================================================================================
                        END OF DFD TEMPLATE
================================================================================

