@startuml
actor Client
participant ClientUI as "ClientDashboard (src/pages/Client/ClientDashboard.tsx)"
participant FrontAPI as "clientAPI (src/services/api.ts)"
participant PaymentGateway as "Payment Gateway (Stripe)"
participant Backend as "Backend (API)"
participant DB as "Database (MongoDB)"

Client -> ClientUI: click 'Pay Now' (paymentId)
ClientUI -> FrontAPI: clientAPI.makePayment(paymentId, amount, method)
FrontAPI -> PaymentGateway: initiate payment / redirect / tokenization
PaymentGateway --> Backend: webhook (payment success)
Backend -> DB: mark payment as 'paid'; update ledger
Backend --> FrontAPI: returns updated payment record
FrontAPI --> ClientUI: show payment confirmation, update UI

note right
Current repo: clientAPI.makePayment() in src/services/api.ts is mocked; integrate server-side verification & webhook handling in backend.
end note

@enduml
